
{% extends 'base.html' %}

{% block title %}Add Showtime - Flick Ticket Palace{% endblock %}

{% block content %}
<section class="admin-form-section">
    <h2>Add New Showtime</h2>
    
    <form action="{{ url_for('admin.add_showtime') }}" method="post" class="admin-form">
        <div class="form-group">
            <label for="movie_id">Movie</label>
            <select id="movie_id" name="movie_id" required>
                <option value="">Select a movie</option>
                {% for movie in movies %}
                <option value="{{ movie.id }}">{{ movie.title }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label for="theatre_id">Theatre</label>
            <select id="theatre_id" name="theatre_id" required>
                <option value="">Select a theatre</option>
                {% for theatre in theatres %}
                <option value="{{ theatre.id }}">{{ theatre.name }} ({{ theatre.location }})</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label for="date">Date</label>
            <input type="date" id="date" name="date" required>
        </div>
        
        <div class="form-group">
            <label for="time">Time</label>
            <input type="time" id="time" name="time" required>
        </div>
        
        <div class="form-group">
            <label for="economy_price">Economy Price (₹)</label>
            <input type="number" id="economy_price" name="economy_price" value="190.00" step="0.01" min="0" required>
        </div>
        
        <div class="form-group">
            <label for="standard_price">Standard Price (₹)</label>
            <input type="number" id="standard_price" name="standard_price" value="250.00" step="0.01" min="0" required>
        </div>
        
        <div class="form-group">
            <label for="premium_price">Premium Price (₹)</label>
            <input type="number" id="premium_price" name="premium_price" value="320.00" step="0.01" min="0" required>
        </div>
        
        <div class="form-group">
            <label for="total_seats">Total Seats</label>
            <input type="number" id="total_seats" name="total_seats" value="110" step="1" min="0" required>
        </div>
        
        <div class="form-actions">
            <a href="{{ url_for('admin.showtimes') }}" class="btn btn-secondary">Cancel</a>
            <button type="submit" class="btn btn-primary">Add Showtime</button>
        </div>
    </form>
</section>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const theatreSelect = document.getElementById('theatre_id');
    const totalSeatsInput = document.getElementById('total_seats');
    
    // Set default total seats to 110 when adding a new theatre
    if (totalSeatsInput) {
        totalSeatsInput.value = '110';
    }
});
</script>
{% endblock %}
